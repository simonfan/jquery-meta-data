define(["require","exports","module","lodash","./helpers"],function(e,t,n){function s(e){return e}var r=e("lodash"),i=e("./helpers");t.all=function(t,n){var o=t.data(),u=n.parse||s;if(n.prefix){var a=i.buildPrefixRegExp(n.prefix);return r.transform(o,function(e,r,s){var o=s.match(a);if(o){var f=i.lowercaseFirst(o[1]);r=u(r,f,s),n.replace&&t.data(s,r),e[f]=r}})}return r.mapValues(o,function(e,t){return u(e,t,t)})},t.single=function(t,n,r){var s=i.fullKey(n.prefix,r),o=t.data(s);return n.parse&&(o=n.parse(o,r,s),n.replace&&t.data(s,o)),o}});